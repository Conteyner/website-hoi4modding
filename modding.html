<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="header">
        <A href="index.html"><button id="leftButton"> <span>Назад</span>
        </button></A>
        <a href="https://discord.gg/east-showdown-1024735523589324830"><img class="icon" id="discord-icon"
                src="discord.png" alt="Дискорд"></a>
        <a href="https://github.com/Conteyner/website--generate-"><img class="icon" id="github-icon" src="github.png"
                alt="Гитхаб"></a>

    </div>
    <h1>Моддинг</h1>
    <div class="block">
    <P><strong>Моддинг</strong>, или создание<a href=""> модов</a>, это акт модифицирования поведения базовой игры (часто называемой
        ванильной),
        для личного использования, либо для публичного выпуска для других игроков, например, через
        <a href="https://steamcommunity.com/app/394360/workshop/">Steam Workshop</a>. 
        Что касается всех игр Paradox, <a href="https://store.steampowered.com/app/394360/Hearts_of_Iron_IV/">Hearts of Iron IV</a> в 
        значительной степени поддается модификации. Мотивы моддоделов могут быть самыми разными: 
        лучше перевод на их родной язык, больше событий или решений, лучше карты и т.д.
        По умолчанию каталог пользователя для Hearts of Iron IV находится в следующих папках: 
        <br>
        <br>  
        <strong> Windows:</strong> <i>C:\Users\<Username>\Documents\Paradox Interactive\Hearts of Iron IV</i>
        <br>
        <strong> Mac OS:</strong> <i>~/Documents/Paradox Interactive/Hearts of Iron IV</i>
        <br>       
        <strong>Linux:</strong>  <i>~/.local/share/Paradox Interactive/Hearts of Iron IV</i>
        <br>  
        <br>         

        Моды хранятся в  <i>mod/</i>  папка в каталоге пользователя. Если путь к каталогу пользователя 
        (включая имя пользователя Windows) включает любые специальные символы (такие как умлауты, другие диакритические знаки или кириллица),
        игра не будет работать должным образом. Локальные моды не будут загружаться, а игра не сможет самостоятельно открыть журнал ошибок. 
        Расположение каталога пользователя можно изменить в разделе <i>/Hearts of Iron IV/launcher-settings.json</i> в папке ванильной игры, изменив 
        <i>"gameDataPath"</i> строку и переместить файлы в эту папку.

        Наряду с модами игра будет загружать любые файлы, хранящиеся в пользовательском каталоге. Внутренний редактор карт игры, Nudger, хранит свой
         в этой папке.

        Чтобы приступить к созданию модов, необходимо создать структуру модов в каталоге mod.

    </P>
</div>

<h1>Руководство</h1> 

<div id="table-of-contents" >
    <h2 >Содержание</h2>
    <ul>
      <li><a href="#guidelines">Руководство</a>
        <ul>
          <li><a href="#debug-advantages">Преимущества отладки</a></li>
        </ul>
      </li>
      <li><a href="#text-editor">Текстовый редактор</a>
        <ul>
          <li><a href="#searching-multiple-files">Поиск в нескольких файлах</a></li>
          <li><a href="#indenting">Отступ</a></li>
        </ul>
      </li>
      <li><a href="#universal-modding-concepts">Концепции моддинга</a>
        <ul>
          <li><a href="#loading-files">Загрузка файлов</a></li>
          <li><a href="#folder-structure">Структура папки</a></li>
          <li><a href="#code-structure">Структура кода</a></li>
          <li><a href="#localisation">Локализация</a></li>
          <li><a href="#gfx">GFX</a></li>
        </ul>
      </li>
      <li><a href="#mod-structure">Структура мода</a>
        <ul>
          <li><a href="#mod-definition">Определение мода</a></li>
        </ul>
      </li>
      <li><a href="#game-data">Игровые данные</a></li>
      <li><a href="#tools-utilities">Инструменты &; утилиты</a></li>
      <li><a href="#common-mistakes">Распространенные ошибки</a></li>
      <li><a href="#useful-knowledge">Полезные знания</a></li>
      <li><a href="#see-also">См. также</a></li>
      <li><a href="#notes">Примечания</a></li>
    </ul>
  </div>


  <div class="block">
    <p>
   <li> <strong>Никогда</strong> не изменяйте игровые файлы: используйте мод даже для небольших изменений и никогда не изменяйте непосредственно игровые файлы в папке Steam Hearts of Iron 4, так как ваши изменения могут быть отменены без предупреждения.
   </li> <br>
  
   <li>
    <strong>Минимизируйте</strong> перезапись ванильных файлов путем добавления отдельных файлов и загрузки из папок, когда это возможно для улучшения совместимости и обслуживания модов. (Ваши файлы могут иметь любое имя, все все файлы в папке будут загружены игрой. Поэтому выберите имя, которое никто другой никогда не будет использовать, например, название вашего мода. Например: coolmod_countries)
</li> <br>
  
<li>
      <strong>Используйте</strong> подходящий инструмент слияния (например, <a href="https://winmerge.org/">WinMerge</a>), чтобы объединить папки и обновить измененные ванильные файлы до нового ванильного патча.
    </li> <br>
  
    <li>
      <strong>Создавайте</strong> резервные копии своей работы, чтобы не потерять все. Рассмотрите возможность использования системы контроля исходных текстов, такой как Git, и совместной кузницы, таких как <a href="https://github.com/">GitHub</a> или <a href="https://about.gitlab.com/">Gitlab</a>, для управления совместной работой команды, или просто сделайте копию файла в другом месте. Сохранение версий через <a href="https://github.com/">Github</a> или <a href="https://about.gitlab.com/">Gitlab</a> также может быть очень полезно для отладки, поскольку ограничивает выбор потенциальных сломанных файлов.
    </li> <br>

    <li>
    <strong>Modding Git Guide</strong> - это созданное сообществом руководство по использованию Git, GitHub/GitLab и связанных с ними инструментов, таких как KDiff3. 
    Он может стать полезной остановкой для вопросов, выходящих за рамки этой вики, и содержит пошаговые руководства для многого из того, 
    о чем здесь говорится.
</li> <br>
<li>
    <strong>Используйте</strong> кодировку UTF-8 с меткой порядка байтов для текстовых файлов. Обычно это называется "UTF-8", но иногда может 
    быть указано как "UTF-8 без BOM". 
    указываться как "UTF-8 без BOM". 
</li> <br>
<li> 
    <strong>Используйте</strong> кодировку UTF-8 с меткой порядка байтов для файлов локализации (.yml). Обычно это называется "UTF-8-BOM", 
    но может быть и просто "UTF-8", в этом случае отказ от метки порядка байтов является отдельной опцией. Некоторые текстовые редакторы, такие как 
    например, Atom, не поддерживают знак порядка байтов полностью, и их следует избегать для локализации.
</li> <br>
<li> 
    <strong>Используйте</strong> комментарии, начинающиеся со знака #, для запоминания причин написания сложных вещей. Один-единственный знак # сделает 
    остчальную часть строки полностью игнорировать. В коде нет обозначений многострочных комментариев.
</li> <br>
<li> 
    <strong>Эффективно</strong> отлаживать игру, включив режим отладки. Для этого добавьте параметр -debug к параметрам запуска в Steam. Параметры запуска 
    доступны в меню, открывающемся при щелчке правой кнопкой мыши на игре и выборе "Свойства...".
    В качестве альтернативы в Windows можно создать ярлык файла hoi4.exe или dowser.exe, а затем открыть свойства ярлыка и добавить -debug (через пробел) в конце пути. 
    свойства ярлыка и добавить -debug (через пробел) после конца пути, например 
    <br>
    <i>"C:\Program Files (x86)\Steam\steamapps\common\Hearts of Iron IV\hoi4.exe" -debug.</i>
    </P>
  </div>

  <h1>Преимущества отладки</h1> 
  <div class="block"> 
    <p> 
        <li>    
        <strong >Автоматическая загрузка </strong> - правки файлов, сделанные в папке мода, будут отображаться в игре без необходимости использовать консольную команду 'reload'. 
        При этом ошибки в файлах будут автоматически добавлены в журнал ошибок. Это относится только к тем файлам, которые существовали на момент запуска игры, 
        с исключением: если файл напрямую
        упоминает путь в других местах мода, то он все равно может быть загружен именно для этого использования. В качестве примера можно привести приказы 
        сражения, как <a href = "#"> <i>load_oob = "TAG_my_oob"</i></a> функционирует как непосредственная связь с 
        <br> <i>/Hearts of Iron IV/history/units/TAG_my_oob.txt</i>;
        </p>  
        <p>
        Или  <a href = "#">GFX</a>, поскольку спрайты непосредственно ссылаются на положение изображения. Хотя, что примечательно, загрузка изображений в игре 
        не сжимает их должным образом, что приводит к видимым искажениям или черному фону, которые исправляются при перезагрузке.
        Хотя редактирование большинства файлов работает, это не работает с <i> /Hearts of Iron IV/history/countries/ </i>
         <i> /Hearts of Iron IV/history/states/</i> и   <i>/Hearts of Iron IV/map/</i> хотя подталкивание частично может быть использовано 
         для двух последних вариантов.
         <li>  
            <strong >Отсутствие сбоев при определении карты</strong> - При редактировании карты существует вероятность появления ошибок. Любые ошибки 
            связанные с картой, приведут к крашу игры при загрузке с сообщением "Некоторые ошибки присутствуют в
          map defition[sic] и будут записаны в error.log'. Если режим отладки включен, игра будет продолжать загружаться должным образом.
          Определение карты происходит при возникновении любой ошибки, содержащей MAP_ERROR в журнале ошибок после загрузки в страну. <br> <br>
         </li>
         <li>  
            <strong >Расширенный журнал ошибок</strong> - некоторые ошибки не записываются в журнал, если не включен режим отладки. 
            Примером могут служить вышеупомянутые ошибки определения карты, поскольку игра аварийно завершает работу, не успев записать их в журнал. 
            Включение режима отладки гарантирует, что все ошибки, которые могут быть зарегистрированы в журнале ошибок, будут зарегистрированы. <br> <br>
    </li>
    <li>  
        <strong > Простота открытия журнала ошибок </strong>- пока в журнале есть ошибки, журнал будет автоматически открываться при загрузке игры или после выбора страны. В журнал также можно будет попасть, нажав 
        на собачку ошибки в правом нижнем углу после загрузки в страну, которая появляется каждый раз, когда в 
        журнале появляется новая ошибка (поскольку файлы загружаются автоматически).
    </li>
    <br>
    <li>  
        <strong >Простота доступа к nudge</strong> - При включенном режиме отладки опция для открытия обнажения будет 
        появится в главном меню. Это может быть полезно для экономии времени или для того, чтобы иметь возможность открыть обнажение 
        в случае сбоя игры, когда вы пытаетесь загрузиться в страну (Это может произойти, если <i>/Hearts of Iron IV/tutorial/tutorial.txt </i> файл ссылается на недействительные состояния, 
        если этот файл не содержит хотя бы одного <i> tutorial = {} </i> даже если не содержит ничего, 
        если узлы снабжения и железные дороги не установлены должным образом, или по другим причинам).
</li>
    <br>
    <li>  
        <strong>Информация о графическом интерфейсе в главном меню </strong> - Пока включен режим отладки, нажатие кнопки ` (Обычно в левом верхнем углу QWERTY-клавиатуры, 
        используется для открытия консоли по умолчанию) в главном меню предоставит информацию об используемом графическом интерфейсе 
        с указанием имен элементов, их положения и используемых ими спрайтов. Это эквивалентно использованию 
        консольной команды "gui", но в режиме отладки это можно сделать в главном меню.
    </li>        
    <br>
    <li>
        <strong>Расширенная информация о провинции</strong> - При включенном режиме отладки при наведении курсора на провинцию будет 
        появляться дополнительная информация, включая идентификаторы провинции и штата, 
        в котором она находится, теги владельца и контроллера и т.д.
    </li>
        <br>
        <li>
            <strong>Доступ к большему количеству консольных команд </strong> - Некоторые консольные команды доступны только для 
            только для разработчиков, а режим отладки позволяет игроку использовать их. 
            Однако обратите внимание, что не все консольные команды станут доступны.
        </li>
    </p>
    <br>  
    <li>
        <strong>Удобство доступа к файлам GUI</strong> - При наведении курсора на элемент GUI, Ctrl+Alt+Правый клик можно использовать 
        для открытия отладочного меню, которое позволит перейти к файлу GUI, в котором определен этот элемент.
    </li>
    <br>
    <li>
        <strong>Автоматическое сохранение при мирных сделках </strong> - Игра автоматически создает
        файл сохранения каждый раз, когда происходит мирная конференция с отладкой.
    </li>
    <br>
    Обратите внимание, что если включить режим отладки с помощью консольной команды 'debug', то 
    будут доступны <strong>только последние 4 преимущества</strong>. Если включить отладку через 
    опции запуска, будь то -debug или -crash_data_log, будут доступны все преимущества.
  </div>


  <h1>Текстовый редактор</h1> 
  <div class="block"> 

  </div>

</body>

</html>