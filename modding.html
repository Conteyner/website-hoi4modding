<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="header">
        <A href="index.html"><button id="leftButton"> <span>Назад</span>
        </button></A>
        <a href="https://discord.gg/east-showdown-1024735523589324830"><img class="icon" id="discord-icon"
                src="discord.png" alt="Дискорд"></a>
        <a href="https://github.com/Conteyner/website--generate-"><img class="icon" id="github-icon" src="github.png"
                alt="Гитхаб"></a>

    </div>
    <h1>Моддинг</h1>
    <div class="block">
    <P><strong>Моддинг</strong>, или создание<a href=""> модов</a>, это акт модифицирования поведения базовой игры (часто называемой
        ванильной),
        для личного использования, либо для публичного выпуска для других игроков, например, через
        <a href="https://steamcommunity.com/app/394360/workshop/">Steam Workshop</a>. 
        Что касается всех игр Paradox, <a href="https://store.steampowered.com/app/394360/Hearts_of_Iron_IV/">Hearts of Iron IV</a> в 
        значительной степени поддается модификации. Мотивы моддоделов могут быть самыми разными: 
        лучше перевод на их родной язык, больше событий или решений, лучше карты и т.д.
        По умолчанию каталог пользователя для Hearts of Iron IV находится в следующих папках: 
        <br>
        <br>  
        <strong> Windows:</strong> <i>C:\Users\<Username>\Documents\Paradox Interactive\Hearts of Iron IV</i>
        <br>
        <strong> Mac OS:</strong> <i>~/Documents/Paradox Interactive/Hearts of Iron IV</i>
        <br>       
        <strong>Linux:</strong>  <i>~/.local/share/Paradox Interactive/Hearts of Iron IV</i>
        <br>  
        <br>         

        Моды хранятся в  <i>mod/</i>  папка в каталоге пользователя. Если путь к каталогу пользователя 
        (включая имя пользователя Windows) включает любые специальные символы (такие как умлауты, другие диакритические знаки или кириллица),
        игра не будет работать должным образом. Локальные моды не будут загружаться, а игра не сможет самостоятельно открыть журнал ошибок. 
        Расположение каталога пользователя можно изменить в разделе <i>/Hearts of Iron IV/launcher-settings.json</i> в папке ванильной игры, изменив 
        <i>"gameDataPath"</i> строку и переместить файлы в эту папку.

        Наряду с модами игра будет загружать любые файлы, хранящиеся в пользовательском каталоге. Внутренний редактор карт игры, Nudger, хранит свой
         в этой папке.

        Чтобы приступить к созданию модов, необходимо создать структуру модов в каталоге mod.

    </P>
</div>

<h1 id="section1">Руководство</h1> 

<div id="table-of-contents" >
    <h2 >Содержание</h2>
    <ul>
      <li><a href="#section1">Руководство</a>
        <ul>
          <li><a href="#section2">Преимущества отладки</a></li>
        </ul>
      </li>
      <li><a href="#section3">Текстовый редактор</a>
        <ul>
          <li><a href="#section4">Поиск в нескольких файлах</a></li>
          <li><a href="#section5">Отступ</a></li>
        </ul>
      </li>
      <li><a href="#section6">Концепции моддинга</a>
        <ul>
          <li><a href="#section7">Загрузка файлов</a></li>
          <li><a href="#section8">Структура папки</a></li>
          <li><a href="#section9">Структура кода</a></li>
          <li><a href="#section10">Локализация</a></li>
          <li><a href="#section11">GFX</a></li>
        </ul>
      </li>
      <li><a href="#section12">Структура мода</a>
        <ul>
          <li><a href="#section13">Определение мода</a></li>
        </ul>
      </li>
      <li><a href="#section14">Игровые данные</a></li>
      <li><a href="#section15">Инструменты &; утилиты</a></li>
      <li><a href="#section16">Распространенные ошибки</a></li>
      <li><a href="#section17">Полезные знания</a></li>
      <li><a href="#section18">Примечания</a></li>
    </ul>
  </div>


  <div class="block">
    <p>
   <li> <strong>Никогда</strong> не изменяйте игровые файлы: используйте мод даже для небольших изменений и никогда не изменяйте непосредственно игровые файлы в папке Steam Hearts of Iron 4, так как ваши изменения могут быть отменены без предупреждения.
   </li> <br>
  
   <li>
    <strong>Минимизируйте</strong> перезапись ванильных файлов путем добавления отдельных файлов и загрузки из папок, когда это возможно для улучшения совместимости и обслуживания модов. (Ваши файлы могут иметь любое имя, все все файлы в папке будут загружены игрой. Поэтому выберите имя, которое никто другой никогда не будет использовать, например, название вашего мода. Например: coolmod_countries)
</li> <br>
  
<li>
      <strong>Используйте</strong> подходящий инструмент слияния (например, <a href="https://winmerge.org/">WinMerge</a>), чтобы объединить папки и обновить измененные ванильные файлы до нового ванильного патча.
    </li> <br>
  
    <li>
      <strong>Создавайте</strong> резервные копии своей работы, чтобы не потерять все. Рассмотрите возможность использования системы контроля исходных текстов, такой как Git, и совместной кузницы, таких как <a href="https://github.com/">GitHub</a> или <a href="https://about.gitlab.com/">Gitlab</a>, для управления совместной работой команды, или просто сделайте копию файла в другом месте. Сохранение версий через <a href="https://github.com/">Github</a> или <a href="https://about.gitlab.com/">Gitlab</a> также может быть очень полезно для отладки, поскольку ограничивает выбор потенциальных сломанных файлов.
    </li> <br>

    <li>
    <strong>Modding Git Guide</strong> - это созданное сообществом руководство по использованию Git, GitHub/GitLab и связанных с ними инструментов, таких как KDiff3. 
    Он может стать полезной остановкой для вопросов, выходящих за рамки этой вики, и содержит пошаговые руководства для многого из того, 
    о чем здесь говорится.
 <li>
    <strong>Используйте</strong> кодировку UTF-8 с меткой порядка байтов для текстовых файлов. Обычно это называется "UTF-8", но иногда может 
    быть указано как "UTF-8 без BOM". 
    указываться как "UTF-8 без BOM". 
</li> <br>
<li> 
    <strong>Используйте</strong> кодировку UTF-8 с меткой порядка байтов для файлов локализации (.yml). Обычно это называется "UTF-8-BOM", 
    но может быть и просто "UTF-8", в этом случае отказ от метки порядка байтов является отдельной опцией. Некоторые текстовые редакторы, такие как 
    например, Atom, не поддерживают знак порядка байтов полностью, и их следует избегать для локализации.
</li> <br>
<li> 
    <strong>Используйте</strong> комментарии, начинающиеся со знака #, для запоминания причин написания сложных вещей. Один-единственный знак # сделает 
    остчальную часть строки полностью игнорировать. В коде нет обозначений многострочных комментариев.
</li> <br>
<li> 
    <strong>Эффективно</strong> отлаживать игру, включив режим отладки. Для этого добавьте параметр -debug к параметрам запуска в Steam. Параметры запуска 
    доступны в меню, открывающемся при щелчке правой кнопкой мыши на игре и выборе "Свойства...".
    В качестве альтернативы в Windows можно создать ярлык файла hoi4.exe или dowser.exe, а затем открыть свойства ярлыка и добавить -debug (через пробел) в конце пути. 
    свойства ярлыка и добавить -debug (через пробел) после конца пути, например 
    <br>
    <i>"C:\Program Files (x86)\Steam\steamapps\common\Hearts of Iron IV\hoi4.exe" -debug.</i>
    </P>
  </div>

  <h1 id="section2">Преимущества отладки</h1> 
  <div class="block"> 
    <p> 
        <li>    
        <strong >Автоматическая загрузка </strong> - правки файлов, сделанные в папке мода, будут отображаться в игре без необходимости использовать консольную команду 'reload'. 
        При этом ошибки в файлах будут автоматически добавлены в журнал ошибок. Это относится только к тем файлам, которые существовали на момент запуска игры, 
        с исключением: если файл напрямую
        упоминает путь в других местах мода, то он все равно может быть загружен именно для этого использования. В качестве примера можно привести приказы 
        сражения, как <a href = "#"> <i>load_oob = "TAG_my_oob"</i></a> функционирует как непосредственная связь с 
        <br> <i>/Hearts of Iron IV/history/units/TAG_my_oob.txt</i>;
        </p>  
        <p>
        Или  <a href = "#">GFX</a>, поскольку спрайты непосредственно ссылаются на положение изображения. Хотя, что примечательно, загрузка изображений в игре 
        не сжимает их должным образом, что приводит к видимым искажениям или черному фону, которые исправляются при перезагрузке.
        Хотя редактирование большинства файлов работает, это не работает с <i> /Hearts of Iron IV/history/countries/ </i>
         <i> /Hearts of Iron IV/history/states/</i> и   <i>/Hearts of Iron IV/map/</i> хотя подталкивание частично может быть использовано 
         для двух последних вариантов.
         <li>  
            <strong >Отсутствие сбоев при определении карты</strong> - При редактировании карты существует вероятность появления ошибок. Любые ошибки 
            связанные с картой, приведут к крашу игры при загрузке с сообщением "Некоторые ошибки присутствуют в
          map defition[sic] и будут записаны в error.log'. Если режим отладки включен, игра будет продолжать загружаться должным образом.
          Определение карты происходит при возникновении любой ошибки, содержащей MAP_ERROR в журнале ошибок после загрузки в страну. <br> <br>
         </li>
         <li>  
            <strong >Расширенный журнал ошибок</strong> - некоторые ошибки не записываются в журнал, если не включен режим отладки. 
            Примером могут служить вышеупомянутые ошибки определения карты, поскольку игра аварийно завершает работу, не успев записать их в журнал. 
            Включение режима отладки гарантирует, что все ошибки, которые могут быть зарегистрированы в журнале ошибок, будут зарегистрированы. <br> <br>
    </li>
    <li>  
        <strong > Простота открытия журнала ошибок </strong>- пока в журнале есть ошибки, журнал будет автоматически открываться при загрузке игры или после выбора страны. В журнал также можно будет попасть, нажав 
        на собачку ошибки в правом нижнем углу после загрузки в страну, которая появляется каждый раз, когда в 
        журнале появляется новая ошибка (поскольку файлы загружаются автоматически).
    </li>
    <br>
    <li>  
        <strong >Простота доступа к nudge</strong> - При включенном режиме отладки опция для открытия обнажения будет 
        появится в главном меню. Это может быть полезно для экономии времени или для того, чтобы иметь возможность открыть обнажение 
        в случае сбоя игры, когда вы пытаетесь загрузиться в страну (Это может произойти, если <i>/Hearts of Iron IV/tutorial/tutorial.txt </i> файл ссылается на недействительные состояния, 
        если этот файл не содержит хотя бы одного <i> tutorial = {} </i> даже если не содержит ничего, 
        если узлы снабжения и железные дороги не установлены должным образом, или по другим причинам).
</li>
    <br>
    <li>  
        <strong>Информация о графическом интерфейсе в главном меню </strong> - Пока включен режим отладки, нажатие кнопки ` (Обычно в левом верхнем углу QWERTY-клавиатуры, 
        используется для открытия консоли по умолчанию) в главном меню предоставит информацию об используемом графическом интерфейсе 
        с указанием имен элементов, их положения и используемых ими спрайтов. Это эквивалентно использованию 
        консольной команды "gui", но в режиме отладки это можно сделать в главном меню.
    </li>        
    <br>
    <li>
        <strong>Расширенная информация о провинции</strong> - При включенном режиме отладки при наведении курсора на провинцию будет 
        появляться дополнительная информация, включая идентификаторы провинции и штата, 
        в котором она находится, теги владельца и контроллера и т.д.
    </li>
        <br>
        <li>
            <strong>Доступ к большему количеству консольных команд </strong> - Некоторые консольные команды доступны только для 
            только для разработчиков, а режим отладки позволяет игроку использовать их. 
            Однако обратите внимание, что не все консольные команды станут доступны.
        </li>
    </p>
    <br>  
    <li>
        <strong>Удобство доступа к файлам GUI</strong> - При наведении курсора на элемент GUI, Ctrl+Alt+Правый клик можно использовать 
        для открытия отладочного меню, которое позволит перейти к файлу GUI, в котором определен этот элемент.
    </li>
    <br>
    <li>
        <strong>Автоматическое сохранение при мирных сделках </strong> - Игра автоматически создает
        файл сохранения каждый раз, когда происходит мирная конференция с отладкой.
    </li>
    <br>
    Обратите внимание, что если включить режим отладки с помощью консольной команды 'debug', то 
    будут доступны <strong>только последние 4 преимущества</strong>. Если включить отладку через 
    опции запуска, будь то -debug или -crash_data_log, будут доступны все преимущества.
  </div>


  <h1 id="section3">Текстовый редактор</h1> 
  <div class="block"> 
    <p> Это самые распространенные текстовые редакторы, которые используются для создания модов к игре:
        <li>
            <strong><a href="https://code.visualstudio.com/Download">Visual Studio Code</a></strong>
        </li> 
            Имеет фанатское расширение CWTools с подсветкой синтаксиса Paradox, валидацией и всплывающими 
            подсказками для триггеров и эффектов. Чтобы установить его, перейдите в раздел Расширения на 
            левой панели VS и найдите CWTools. (Примечание: правила валидации неполные и покажут много ложных 
            ошибок в gui и файлах локализации).
        Последние версии с автоматическим выделением пар {} разными цветами и пометкой открытых/закрытых пар.
        <li>
            <strong><a href="https://notepad-plus-plus.org/">Notepad++</a></strong>
        </li>
        Выберите Perl в качестве языка, так как он обеспечивает хорошую подсветку и позволяет сворачивать блоки кода и комментарии.
        Чтобы установить его по умолчанию, перейдите в Настройки, 
        Конфигуратор стилей, найдите Perl в списке слева и добавьте "gui txt" (без кавычек) в поле "User ext." внизу.

        Некоторые опции, которые обычно включены по умолчанию в других текстовых редакторах, в Notepad++ выключены, 
        но могут быть изменены в верхней панели. Это включает в себя обводку Word, карту документа, направляющий отступ 
        и папку как рабочее пространство.
        <li>
            <strong><a href="https://www.sublimetext.com/">Sublimetext</a></strong>
        </li>        
        Существует расширение для него, выпущенное разработчиками Imperator, которое может быть использовано с HOI4, но используйте его на свой страх и риск: Sublime Tools. Оно добавляет цветное выделение для эффектов и триггеров. 
        Если вы хотите переключать комментарии в Sublime, вам также нужно добавить этот файл в ту же папку "User".
        Причины для использования текстового редактора не по умолчанию следующие: <br>
        
        Подсветка скобок и синтаксиса. Подсветка скобок облегчает обнаружение недостающих или ненужных файлов, позволяя выделить скобку и увидеть, где она открывается или закрывается, чтобы знать, что находится внутри этого блока. Подсветка синтаксиса может сделать код более удобочитаемым, выделяя более важные части, а также исключая из рассмотрения скобки в комментариях. <br> <br>

        Поиск в нескольких файлах в одной папке. В каждом предоставляемом инструменте это активируется горячей клавишей ^Ctrl + ⇧Shift + F и может иметь фильтры имен файлов, чтобы ограничить файлы, которые ищутся (например, *.txt будет искать только текстовые файлы, игнорируя любые другие файлы, такие как *.dds). <br> <br>
        Каждая строка пронумерована на своей стороне. Поскольку журнал ошибок обычно указывает на строку, в которой присутствует ошибка, это делает поиск нужной строки гораздо более быстрым по сравнению с тем, как Блокнот Microsoft сообщает только номер выбранной в данный момент строки. <br> <br>
        Более широкие возможности работы с несколькими файлами. В каждом из этих редакторов одновременно может быть открыт только один экземпляр при одновременном открытии нескольких файлов (переключение между ними осуществляется с помощью ^Ctrl + ⇆Tab), в отличие от Microsoft Notepad, который открывает отдельный экземпляр для каждого открытого файла, что может быстро заполнить меню Alt + ⇆Tab. Тем не менее, можно открыть несколько экземпляров текстового редактора. В каждом из них также существует инструмент сравнения текста: "ComparePlus" плагин в Notepad++, "Compare Side-By-Side" или пакет "Diffy" в Sublime Text, или различные расширения Visual Studio Code (наиболее популярное - "Partial Diff"). <br>
        Большие возможности по настройке: каждый из этих текстовых редакторов позволяет выбирать разнообразные светлые или ночные темы, которые можно выбрать по своему усмотрению, причем существуют и загружаемые темы. Поскольку во время работы над модами приходится часто заглядывать в текстовый редактор, выбор темы, приятной для глаз, может значительно улучшить впечатления. <br> <br>


    </p>
  </div>

  <h1 id="section4">Поиск в нескольких файлах</h1> 
  <div class="block"> 
    <p>  
      Одной из особенностей текстовых редакторов не по умолчанию является настраиваемый поиск всех файлов в одной папке. Это очень полезно для работы 
      с ошибками и поиска местоположения определенных элементов.
      Windows File Explorer - плохой выбор для этого, так как он ищет только внутри файлов .txt, в то время как желательно искать файлы других 
      расширений, например, .yml, .gfx, .gui или .asset, и он очень заметно медленнее, 
      чем любой другой текстовый редактор: поиск, занимающий ~10 секунд в текстовом редакторе, может занять до 15 минут в Windows File Explorer.
      Именно так эта функция включается в обычных текстовых редакторах:
      <li> 
        <strong>Notepad++ </strong> Он находится в меню верхней панели "Поиск" как "Найти в файлах...". По умолчанию папка не указывается. 
        "Следовать текущему документу" позволяет текстовому редактору автоматически ввести папку текущего открытого документа в качестве места для поиска, 
        либо ее можно ввести вручную. Кроме того, это меню можно открыть из меню правой кнопки мыши на папке в меню "Папка как рабочая область" 
        (вызывается кнопкой на верхней панели), 
        которое автоматически установит расположение папки в качестве этой папки. 
        Горячая клавиша ^Ctrl+⇧Shift+F также открывает меню для этой функции по умолчанию.
        <br>
      </li>
      <li> 
      <strong> Sublime Text </strong>
      Она находится в меню верхней панели "Найти" как "Найти в файлах...". Чтобы добавить папку для поиска, можно открыть меню справа от строки 
      "Где:", для этого служат кнопки "Добавить папку" (для выбора отдельной папки) или "Добавить открытые папки" 
      (для автоматического выбора всех папок, открытых через Sublime Text). 
      Горячая клавиша ^Ctrl+⇧Shift+F также по умолчанию открывает меню для этой функции.
      <br>
      </li>
      <li>
        <strong>Visual Studio Code</strong>   поддерживает поиск только в текущей открытой папке. 
      Папка открывается либо через кнопку "Open Folder..." в меню верхней панели "File", либо через меню "Explorer", доступ к которому осуществляется через панель слева. 
      После этого функциональность доступна в меню "Правка" как "Найти в файлах". Для ускорения поиска можно использовать фильтры имен файлов. Например,
      <i>localisation/english/*.yml </i>
      в "files to include" будет искать только каждый *.yml файл в пределах <i> currently opened folder/localisation/english/</i>
      папку, где * означает любое количество (включая 0) любых символов в имени файла. Аналогичные фильтры можно использовать и в двух 
      предыдущих текстовых редакторах, однако без 
      возможности фильтрации папок - только имен файлов. Горячая клавиша ^Ctrl+⇧Shift+F также по умолчанию открывает меню для этой функции.
      Для ускорения поиска можно установить фильтр по расширению файла. Это зависит от текстового редактора. 
      Обратите внимание, что * используется для обозначения любого количества любых символов, и это универсально.
    </li>
    <br>
    <li >
      В Notepad++ это делается с помощью меню "filter". Фильтры разделяются пробелами, а восклицательный знак 
      в начале обозначает, что это исключающий фильтр. Например, *.yml !*french.yml приведет к поиску всех файлов локализации, кроме французских.
    В Sublime Text этот фильтр находится в меню "где". Фильтры разделяются запятыми, а знак минус в начале 
    обозначает, что это исключающий фильтр. Например, <i>C:\Program Files (x86)\Steam\steamapps\common\Hearts of Iron IV\, *.txt, -GER* </i> будет искать 
    каждый текстовый файл в ванильной игре (Предполагаемое местоположение по умолчанию в Windows на Steam) за исключением тех, которые начинаются с GER.
    В Visual Studio Code это находится в меню, вызываемом кнопкой "Toggle Search Details", представленной многоточием. 
    Это меню имеет отдельные меню "Files to include" и "Files to exclude", используемые соответственно. Кроме того, 
    это позволяет представлять имена папок в меню, причем удвоенное * (как в **) используется для представления произвольного имени папки. 
    Например, *.gfx в меню "Включить файлы" и dlc/** в меню "Files to exclude" приведет к поиску всех файлов с расширением .gfx, за исключением файлов в папке dlc.
    <br> 
    <br>
    Его можно использовать следующим образом:
    </li>

    <br>
    
    <li>
      Определение внутреннего идентификатора путем поиска 
      локализованного названия в папке локализации. Например, поиск названия события 
      может быть использован для определения идентификатора.
    </li>

    <br>
    
    <li>
      Выяснение того, где находится запись базы данных определенного типа, там, где это не сразу интуитивно понятно. 
      Например, с помощью поиска идентификатора снаряжения в папке, где хранится снаряжение (или даже <i>/Hearts of Iron IV/common/</i> в целом), 
      можно найти точный файл, что не сразу очевидно для некоторых типов снаряжения.
      <Br>
        Подмножество этих задач включает поиск местоположения спрайтов или элементов интерфейса: Команда gui console 
        (или ее эквивалент в главном меню в режиме отладки) может быть использована для поиска имени определенного SpriteType 
        (с префиксом GFX_) или элемента интерфейса. Поисковый запрос с заданным именем в папке <i>/Hearts of Iron IV/interface/</i> выдаст файл, 
        в котором определен спрайт (как таковой, также выдавая <i>texturefile</i>, 
        в котором указан путь к изображению в gfx) или папку интерфейса (что позволяет скопировать его в мод и отредактировать).
    </li>
      
    <br>
    
    <li>    
      Работа с неинтуитивными ошибками, где местоположение не указано, 
      такими как <i>Invalid Decision Category</i>, где это может быть использовано, чтобы определить, какой файл выдает ошибку.
    </li>

    <br>
    
    <li>    
      Выяснение того, что может привести к определенному событию, например, что вызывает определенное событие.
    </li>   

    </p>
  </div>

    <h1 id="section5">Отступ</h1> 
    <div class="block">   
      <p>
        Еще одна причина использовать текстовые редакторы не по умолчанию - это более широкие возможности отступов. 
        Под отступом понимается использование новых строк и пробелов в начале строки, что не влияет на интерпретацию кода, 
        но позволяет легче увидеть связи между различными частями кода.
        Обычно в качестве одного уровня отступа используется либо символ табуляции (представленный как <i>\t</i>), либо 4 пробела, 
        расположенные от начала строки до начала кода на строке. Для увеличения уровня отступа кода в текстовых редакторах 
        используется кнопка ⇆Tab, которую можно нажать на нескольких 
        строках одновременно, выделив их. И наоборот, ⇧Shift+⇆Tab используется для уменьшения уровня отступа строки на единицу.
        <br>
        Дополнительной опцией, присутствующей в этих редакторах, является "направляющая отступа", рисующая линию на каждом уровне 
        отступа для того, чтобы было легче видеть границы каждого уровня отступа, что может помочь в работе с кодом. 
        Хотя в Sublime Text и Visual Studio Code эта опция включена по умолчанию, в Notepad++ ее необходимо включить вручную в верхней панели.
        <br>
        Это типичные соглашения, используемые для отступов:
        <li>
          Первая строка файла имеет нулевой отступ.
        </li>
        <li>
          Открывающая скобка и соответствующая ей закрывающая скобка должны располагаться на строках с одинаковым уровнем отступа.
        </li>
        <li>
          Если в строке присутствует незакрытая открывающая скобка, то все до соответствующей закрывающей 
          скобки должно располагаться на один отступ вправо по сравнению со строкой с открывающей скобкой.
        </li>
        <li>
        В строке не должно быть более одной скобки каждого вида.
      </li>
      <li>
        Если строка включает закрывающую скобку без открывающей скобки, 
        то перед ней не должно быть ничего, кроме закрывающей скобки и отступа.
      </li>
      <br>
      <p>
        Это пример правильного отступа:
      </p>
      </p>
      
      <div class="card">
        <div class = "textincard">
          <pre>
TAG = {
    if = {
    |    limit = {  <span style="color: rgb(30, 129, 46);"> # Символ штриха "|"  используется для визуализации  направляющей отступа, а не для использования в коде.</span>
    |    |    has_stability > 0.5
    |    |    has_war_support > 0.5
    |    }
    |    country_event = { id = my_event.1 hours = 1 }
    }
}
</pre>
      </div>
      </div>
      <br>
      Правильный отступ имеет два основных преимущества:
      <li>
        Легко определить, где содержится аргумент, переместившись на один уровень отступа влево, 
        а затем следуя по линии направляющей отступа до тех пор, пока она не попадет в код.
      </li>
      <li>
        Легко найти, что входит в блок, следуя линии направляющей отступа от линии с открытой скобкой до точки, где она попадает в закрывающую скобку.
      </li>
      <br>
      Ниже приведены некоторые распространенные ошибки, которые следует проверить при отступах:
    </p>     
    <li>
      Излишнее удаление уровня отступа после закрывающей скобки. Обычно это можно обнаружить, 
      обнаружив любые прерывания в линии, генерируемой направляющей отступа, от линии с 
      нарисованной открывающей скобкой до закрывающей скобки:
    </li>    
    <br>
      <div class="card">
        <div class = "textincard">
<pre>
  ideas = {
    country = {
    |   my_idea_1 = {
    |   |   modifier = {
    |   |   |   political_power_gain = 0.1
    |   |   } <span style="color: rgb(30, 129, 46);"># закрывается модификатором = { ... }</span>
    |   my_idea_2 = { <span style="color: rgb(30, 129, 46);">   # Прерывает строку от my_idea_1 до закрывающей скобки, поэтому является ошибочным </span>
    |   }            <span style="color: rgb(30, 129, 46);"> # Не работает из-за того, что находится внутри my_idea_1</span>
    }
}    
</pre>
      </div>
      </div>
      <br>
      <li>
        Размещение закрывающих скобок на том же уровне, что и предыдущий сценарий:
      </li>        
      <br>
      <div class="card">
        <div class = "textincard">
          <pre>
if = {
    limit = {
        my_scripted_trigger = yes
    }
    } <span style="color: rgb(30, 129, 46);"># Закрывает оператор if, и поэтому должен был быть на один уровень левее, чтобы соответствовать уровню отступа оператора if.
      my_scripted_effect = yes # Всегда выполняется, так как находится за пределами оператора if.</span>
}
          </pre>
      </div>
      </div>       

      <br>
      <div class="card">
        <div class = "textincard">
<pre>
country_event = {
    id = my_event.1
    option = {
        name = my_event.1.a
        }  <span style="color: rgb(30, 129, 46);"># Закрытый option = { ... }</span>
    }      <span style="color: rgb(30, 129, 46);"># Закрытый country_event = { ... }</span>
    option = { <span style="color: rgb(30, 129, 46);"># Не работает из-за того, что определена вне события.</span>
        <...>
</pre>
      </div>
      </div>
      <Br>
      <li>
        Размещение соседних строк с разницей не менее 2 уровней отступа:
      </li>    
      <br>
      <div class="card">
        <div class = "textincard">
          <pre>
focus = {
    <...>
    completion_reward = {
        TAG = {
            country_event = my_event.1
    } <span style="color: rgb(30, 129, 46);"># Закрытый TAG = { ... }</span>
}     <span style="color: rgb(30, 129, 46);"># Закрытый completion_reward = { ... }</span>
focus = { <span style="color: rgb(30, 129, 46);"># Не работает из-за того, что находится внутри другого фокуса = { ... } </span>
    <...>
}            
          </pre>
      </div>
      </div>
      <Br>
      <li>
        
        Соблюдение правил отступов и проверка ошибок отступов гарантирует, что в коде не будет ошибок, связанных со скобками.
      </li>         
    </div>
    <h1 id="section6">Концепции моддинга</h1> 
    <div class="block">   
      <p> 
        Настоятельно рекомендуется отключить в проводнике файлов Windows скрытие расширений файлов из имени файла, 
        если вы используете Windows. Расширения файлов считаются частью имени файла, и их скрытие может привести к неработоспособности файлов из-за 
        неправильных имен (например, случайное сохранение файлов локализации как файлов .txt, сохранение 
        изображения в неправильном формате и непонимание этого, и т.д.).
        <br>
        <h2 id="section7">
          Загрузка файлов
        </h2>
      </p>
      <p>
        После создания папки мода в программе запуска каждый файл в ней будет загружен в то же место, 
        что и в ванильной игре. Если взять в качестве примера мод с именем <i>"yourmod"</i>, 
        то каждый файл в папке <i>mod/yourmod/common/national_focus</i> будет загружен вместе 
        с файлами в папке ванильной игры <i>/Hearts of Iron IV/common/national_focus</i>, если принять путь по умолчанию. Однако, 
        если вставить еще одну папку, как в <i></i>mod/yourmod/test/common/national_focus</i>, 
        то файлы в этой папке не будут загружены как файлы национального фокуса и будут проигнорированы.
      </p>
      <p>
        Корневая папка мода, считающаяся такой же, как папка <i>/Hearts of Iron IV/</i> в ванильной игре, будет определена в файле <i>/Hearts of Iron IV/mod/yourmod.mod </i>
        пользовательской директории, открытой с помощью текстового редактора. Это задается через <i>path = ""</i> в этом файле, по умолчанию это каталог пользователя
      </p>
      <p>
        Игра загружает файлы в следующем порядке: базовая игра, затем DLC (в папке <i>/Hearts of Iron IV/dlc/</i>), 
        затем каталог пользователя и, наконец, моды. Моды обычно загружаются в порядке, заданном именами файлов модов. 
        Из-за ошибок в контрольных суммах папки DLC обычно содержат только графику и звук, 
        относящиеся к DLC, в то время как код всегда хранится в самой базовой игре, запертый за проверкой <a href="#">has_dlc</a>.
      </p>

      <p>
        Если между ними в одной и той же папке находится файл с одинаковым именем 
        (например, оба файла <i>/Hearts of Iron IV/events/AcePilots.txt и mod/yourmod/events/AcePilots.txt)</i>, игра будет читать только тот, 
        который находится позже в порядке загрузки, 
        игнорируя все содержимое ранее установленного. В частности, файл мода полностью перезапишет файл ванильной игры с тем же именем в той же папке.
      </p>

      <p>
        В базовой игре это также используется для изменения фона главного меню путем изменения файла <i>/Hearts of Iron IV/interface/frontendmainviewbg.gfx </i>
        в каждом DLC. Это также означает, что папка DLC не читается, а загружается каждый DLC, как мод. Это означает, что папка <i>modname/dlc/.../ </i>
        не будет иметь никакого эффекта в игре, вместо этого файлы DLC нужно редактировать по мере их загрузки, например <i>modname/music/mtg_music.txt.</i>
      </p>

      <p>
        В частности, это означает, что каждый файл ванильной игры будет прочитан в модах, если только мод не содержит файл с 
        таким же именем в той же папке, в этом случае будет прочитан только файл мода, а содержимое файла ванильной игры не 
        будет прочитано. Этот принцип также применим к DLC и пользовательскому каталогу, которые загружаются раньше модов и 
        поэтому могут рассматриваться как часть ванильной игры. То, откуда берется файл, не имеет никакого значения для его 
        интерпретации: игра не делает различия между файлами ванильной игры и файлами модов.
        Кроме перезаписи файлов с одинаковыми именами, имена файлов не имеют никакого значения для чтения файла, за редким 
        исключением[a]. Для подавляющего большинства файлов они либо читаются только в силу того, что находятся в определенной папке 
        (например, национальные фокусы), либо по прямой ссылке в другом файле (например, <i>oob = "TAG_1936"</i> в файле 
        <a href = "">истории страны </a>загружает файл <i>/Hearts of Iron IV/history/units/TAG_1936.txt</i> для расположения подразделений). 
        Это позволяет избежать перезаписи файлов ванильной игры во многих случаях, что облегчает совместимость содержимого мода с крупными обновлениями. <br><br>
        
        Файлы не интерпретируются сразу после загрузки, за исключением локализации, вместо этого интерпретация происходит 
        после загрузки. Для подавляющего большинства папок, таких как <i>/Hearts of Iron IV/interface/*.gfx</i> файлы, используются
         идентификаторы символов ASCII для сортировки по имени файла. Это отличается от алфавитной сортировки, используемой 
         в файловом проводнике, поскольку считается, что заглавные буквы идут перед строчными, а между ними располагается 
         множество символов (например, подчеркивание). Чтобы поместить файл особенно высоко в порядке оценки, можно использовать 
         префикс, использующий идентификаторы поздних символов, например <i>>zz_</i>, и обратный префикс для противоположной сортировки, 
         причем в ванильной игре для этого обычно используется 00_.
      </p>
      <p>
        Изменение порядка интерпретации имеет очень ограниченное применение, 
        но оно присутствует. Некоторые заметные случаи этого включают:

        <li>
          <i>/Hearts of Iron IV/interface/*.gfx</i> файлы, которые создают спрайты, присваивающие изображениям информацию, например, 
          прикрепляющие единственное имя. Если существует несколько определений одного и того же спрайта, используется только 
          тот спрайт, который был определен позже, а более ранний игнорируется. В базовой игре это используется для DLC: если 
          персонаж имеет портрет только в DLC, то в качестве портрета будет использоваться спрайт. В базовой игре в качестве 
          спрайта используется общий портрет, так как в противном случае персонаж может выглядеть сломанным, что вполне вероятно 
          в многопользовательской игре. Однако в файлах DLC спрайт, используемый для портрета, 
          определяется еще раз в отдельном файле позже в порядке оценки, чтобы гарантировать, 
          что добавленный в DLC портрет будет использоваться для владельцев DLC.
        </li>

        <li>
          Файлы <i>/Hearts of Iron IV/common/country_tags/*.txt</i>: порядок определения тегов стран имеет значение. 
          Хотя в базовой игре порядок оценки в основном соответствует порядку внутри файлов здесь, он все же имеет значение. 
          Это определяет такие вещи, как порядок, в котором оцениваются файлы <i>/Hearts of Iron IV/history/countries/</i>, что может привести к тому, 
          что предметы будут иметь нарушенную популярность, порядок, в котором оцениваются события/решения/фокусы/и тд 
          (будь то триггеры или выбор ИИ), или порядок, когда прицел выбирает несколько стран: как в оценке, так и во всплывающей подсказке.
        </li>
        <li>
          Контрольная сумма, 4-символьный буквенно-цифровой код, который можно увидеть рядом с версией 
          в главном меню, например a2b4, определяет совместимость мультиплеера и достижений: к серверам 
          можно присоединиться, только если контрольная сумма совпадает с контрольной суммой хоста, 
          а достижения включаются, только если контрольная сумма совпадает с контрольной суммой базовой игры, 
          которую можно увидеть в пусковой установке. Список изменений можно посмотреть в файле базовой игры 
          <i>/Hearts of Iron IV/checksum_manifest.txt</i>, который включает в себя все папки <i>common/, events/ и history/</i>, 
          а также большую часть папки <i>map/</i>, кроме <i></i>map/terrain/</i>. Любое изменение файлов в этой папке изменит 
          контрольную сумму, а любой мод, не изменяющий их, не изменит.
        </li>

      </p>

      <h2 id="section8">
        Структура папки
      </h2>
      <p>
        Эти папки являются общими для редактирования внутри модов:
      </p>
      <li>
       <i> /Hearts of Iron IV/common/</i>: Это основная папка, в 
        которой определяется почти каждая запись базы данных: страны, технологии, направления и так далее.
      </li>
      <li>
        <i>/Hearts of Iron IV/events/</i> : Папка, определяющая события.
      </li>
      <li>
       <i> /Hearts of Iron IV/history/</i>: В этой папке в основном решается 
        стартовая историческая информация: какие государства принадлежат каким странам, 
        стартовые политические и дипломатические ситуации, позиции армий, стартовые здания и так далее. 
        Обычно, если что-то происходит до выбора страны, это решается здесь. Однако стартовые железные дороги и узлы снабжения определяются в папке <i>/Hearts of Iron IV/map/</i>.
      </li>
      <li>
       <i> /Hearts of Iron IV/map/</i>: Эта папка используется для редактирования внешнего вида карты, например, провинций, отображаемого рельефа, 
        карты высот и так далее. Сюда также входят 
        стратегические регионы и начальные узлы снабжения и железные дороги. 
        Однако границы государств определяются в папке  <i> /Hearts of Iron IV/history/states/</i>.    
      </li>
      <li>
        <i>/Hearts of Iron IV/localisation/</i>: Эта папка используется для определения того, 
        как будет отображаться текст в зависимости от включенного в данный момент языка.
      </li>
      <li>
        <i>/Hearts of Iron IV/gfx/</i>: Эта папка используется для хранения изображений. Однако чаще всего эти изображения не загружаются 
        автоматически, а должны быть связаны со спрайтами. Часто редактируемые исключения включают <i>/Hearts of Iron IV/gfx/loadingscreens</i>, 
        где всегда загружается каждый отдельный файл, <i>/Hearts of Iron IV/gfx/flags</i> и подпапки, где страна пытается загрузить флаг при смене 
        идеологии или косметического тега, и <i>/Hearts of Iron IV/gfx/interface/equipmentdesigner/graphic_db/*</i>.txt
         файлы, которые назначают спрайты для пулов изображений, показанных в конструкторе снаряжения. Все остальное требует спрайта.
      </li>
      <li>
        <i>/Hearts of Iron IV/interface/</i> (не путать с  <i>/Hearts of Iron IV/gfx/interface/</i>): Эта папка в основном заполнена файлами <i>*.gfx</i> и <i>*.gui</i>, 
        которые можно открыть в текстовом редакторе. Первые определяют графические элементы, которые отображаются в игре: спрайты, 
        которые присваивают имя и свойства (такие как анимация, количество кадров или тип загрузки) файлу изображения, шрифты, цвета текста, 
        стрелки карты и так далее. Последние определяют сам графический интерфейс пользователя: как расположены кнопки и иконки, какой GFX используется, 
        где писать текст и так далее. 
        Это определяет только внешний вид графического интерфейса, такие атрибуты, как эффекты, должны быть определены в другом месте.   
      </li>
      <li>
        <i>/Hearts of Iron IV/music/</i>: Эта папка используется для определения песен, которые играют на радиостанциях, и возможностей во взвешенном тасовании.
      </li>
      <li>
        <i>/Hearts of Iron IV/sound/</i>: Эта папка используется для определения звуков, которые воспроизводятся в других местах,
         обычно привязанных к какому-либо элементу графического интерфейса. Сюда также входят такие записи, как голоса дивизий.
      </li>
      <li>
       <i> /Hearts of Iron IV/portraits/</i>: Эта папка используется для назначения 
        спрайтов в качестве портретов для случайно сгенерированных общих персонажей.
      </li>
      <h2 id="section9">
        Структура кода
      </h2>
      <p>
        Язык сценариев, на котором строится код, всегда имеет общую структуру: <i><атрибут> = <аргумент> </i>
        (иногда со знаками неравенства в случае триггеров) за редким исключением, таким как <i>add_political_power = 100</i>. 
        Фигурные скобки используются для назначения других атрибутов в качестве аргумента, например, 
       <i> random_country = { add_stability = 0.1 }</i>. В этом случае все, что находится в фигурных скобках, будет выполняться в области действия случайной страны.
      </p>
      <p>
        <strong>Опущение знака аргумента/равенства почти всегда ошибочно</strong>. Например, 
        это будет неверно: <i>GER = { leave_faction }</i>. Вместо этого, когда нет ожидаемого аргумента, обычно используется yes, как <i>GER = { leave_faction = yes }</i>.
      </p>
      <p>
        Комментарии помечаются символом <span style="color: rgb(30, 129, 46);"><i>#</i></span>: все, что идет после этого символа до новой строки, будет полностью игнорироваться игрой. Например:
      </p>

      <br>
      <div class="card">
        <div class = "textincard">
          <pre>
completion_reward = {
    add_political_power = 100 <span style="color: rgb(30, 129, 46);"> #TODO: Проверьте 
      сбалансирован ли</span>
}
</pre>
        </div>
      </div>
      <p>
        Не существует многострочного блока комментариев.
        <br>
        Кроме комментариев и строк (помеченных кавычками, должны быть в одну строку), 
        отступы не имеют значения: большинство файлов могут быть выполнены в одну строку 
        в целом без каких-либо изменений в том, как они интерпретируются. Тем не менее, 
        правильный отступ может значительно облегчить обнаружение проблем со скобками без
         использования подсветки скобок в текстовом редакторе и в целом облегчает понимание того, 
         что каждый блок включает в себя, а что нет.
        Это также означает, что аргумент атрибута никогда не должен оставаться пустым, так как вместо 
        него в качестве аргумента будет использоваться следующий атрибут. Например:
      </p>

      <br>
      <div class="card">
        <div class = "textincard">
        <pre>
focus = {
    id = TAG_focusname
    icon = 
    x = 2
}
      </pre>
        </div>
      </div>    
      
      <p>
        В этом случае атрибут <i>icon</i> фокуса установлен с <i>icon = x</i>, а дальше 
        игра понятия не имеет, как интерпретировать = 2. На практике это 
        приведет к тому, что фокус не будет находиться в ожидаемом положении.
        Такие блоки аргументов встречаются особенно часто:
      </p>
      <li>
       <a href="#"> Эффекты</a> используются в таких обстоятельствах, как награды за завершение фокуса, варианты событий, 
        эффекты решений, <i> on actions</i>, файлы истории страны и так далее. Они используются для однократного изменения состояния игры.
      </li>
      <br>
      <li>
        <a href="#">Триггеры </a>используются в таких случаях, как проверка фокуса и доступности решения, 
        триггеры событий или операторы if. Они возвращают строго булевого значение - true или false, не изменяя ничего в состоянии игры.
      </li>
      <br>
      <li>
        <a href="#">Прицелы</a> - это определенное подмножество триггеров и эффектов, 
          которые могут быть использованы для изменения того, для какой 
          страны/государства/характера/отдела выполняются эффекты или проверяются триггеры. 

      </li>
      <Br>
      <li>
        <a href="#">Модификаторы</a> - используются для применения постоянного числового изменения, 
        например, ежедневного прироста политической власти. Обычно для применения к странам используются такие понятия, как духи. 
      </li>
  <h2 id="section10">
    Локализация
  </h2>
  <p>
    Названия в зависимости от языка определяются в локализации. 
    Если брать во внимание только английский язык, то используется папка <i>/Hearts of Iron IV/localisation/english.</i> 
    Для правильной работы файл в ней должен заканчиваться на <i>_l_english.yml</i> в имени, включая расширение, 
    которое по умолчанию скрыто в проводнике файлов Windows. Файл должен быть закодирован в кодировке UTF-8 с включенной меткой порядка байтов, обычно называемой UTF-8-BOM. 
    Точные детали преобразования зависят от текстового редактора. Первая строка в файле - <i>l_english:</i>, чтобы присвоить его этой базе данных.
  </p>
  <p>
    Запись локализации имеет структуру <i>localisation_key:0</i> "Значение ключа". Здесь первая часть до двоеточия 
    называется ключом локализации, конечная часть в кавычках - значением ключа локализации, а число между ними -
     номером версии. Номер версии является чисто комментарием и не читается игрой, его можно и вовсе опустить. 
     Любой файл локализации может быть использован для любой локализации, и лучше использовать новые файлы, а не копировать файлы базовой игры.
    Хотя во многих случаях можно избежать использования локализации, лучше этого не делать по следующим причинам:
    <br>
    <li>
      Символы, не являющиеся символами ASCII, такие как умляуты и другие диакритические знаки. Многие файлы, такие как черты лидера страны или правила смежности, 
      не поддерживают кодировку UTF-8-BOM, которая позволяет использовать не-ASCII символы, и поэтому их использование в имени будет невозможно.
    </li>
    <br>
    <li>
      Динамическая локализация. В каждой отдельной строке вне локализации новые строки и цветной текст не интерпретируются. 
      Кроме того, в значительной части файлов, таких как скриптовая локализация, аргумент <i>name</i> или любой альтернативный аргумент 
      строго ожидается для указания на ключ локализации, просто отображая имя ключа, если он не найден. 
      Это приводит к тому, что динамическая локализация не работает, например, не позволяет получить название страны.
    </li>
    <br>
    <li>
      Поддержка нескольких языков. Даже если мод предназначен только для английского или другого языка, 
      лучше позволить ему быть открытым для потенциальных подмодов. Хотя все еще можно делать подмоды с 
      переводом для модов, не использующих локализацию, становится гораздо сложнее поддерживать их в 
      актуальном состоянии (поскольку в этом случае могут быть изменены не только файлы локализации) 
      и изменяется контрольная сумма (что делает невозможным многопользовательскую сессию между теми, 
      у кого есть подмод с переводом, и теми, у кого его нет).
    </li>
  </p>
  <h2 id="section11">
    GFX
  </h2>
  <p>
    Чаще всего изображения сохраняются в формате DDS, обычно ARGB8 (или A8R8G8B8. в зависимости от редактора изображений) без мипмапов. 
    Однако точный формат не имеет особого значения: большинство файлов изображений могут быть сохранены в DDS, TGA, PNG или BMP; при условии, 
    что информация в спрайте корректна. Основными исключениями являются флаги, представляющие страны, которые должны быть 32-битными TGA файлами без кодировки RLE 
    и нижней левой точки начала координат, а также файлы в папке карты.
  </p>
  <p>
    Спрайты используются для добавления дополнительной информации в файл изображения (например, имя спрайта, тип загрузки, количество кадров или анимация)
     и необходимы для отображения изображения 
    в графическом интерфейсе пользователя. Спрайты определяются в файлах <i>/Hearts of Iron IV/interface/*.gfx</i>, открытых с помощью текстового редактора. 
    Обратите внимание, что эта папка не связана с <i>/Hearts of Iron IV/gfx/interface/</i>.
  </p>
  <p>
    Спрайты определяются в блоке <i>spriteTypes = { ... }</i> и имеют различные определения, например, простой <i>spriteType</i>, <i></i>corneredTileSpriteType</i>, 
    который можно использовать с произвольным размером, растягивая его с учетом углов, <i>frameAnimatedSpriteType</i>, 
    который позволяет создавать анимационную последовательность, а не ограничиваться скриптовыми, как это можно сделать в <i>spriteTypes</i>, и так далее.
     Простейший возможный файл спрайта состоит из следующих элементов:
  </p>

  <div class="card">
    <div class = "textincard">
      <pre>
spriteTypes = {
    spriteType = {
        name = GFX_my_sprite_name
        texturefile = gfx/interface/folder/filename.dds <span style="color: rgb(30, 129, 46);"># Must use / for folder separation</span>
    }
    spriteType = {
        name = GFX_my_second_sprite
        texturefile = gfx/anotherfolder/filename.dds
    }
}
</pre>
    </div>
  </div>
  <p>
    Это назначает файлу 
    <i>/Hearts of Iron IV/gfx/interface/folder/filename.dds спрайт GFX_my_sprite_name</i> в игре. 
    Затем этот спрайт можно использовать в графическом интерфейсе пользователя, например, 
    для принятия решения или иконки фокуса (обратите внимание, что иконки фокуса должны иметь отдельный спрайт для анимации сияния). 
    Единственными изображениями, не имеющими определения в файлах интерфейса, являются:
  </p>
  <li>
    Флаги, используемые для стран в папке <i>/Hearts of Iron IV/gfx/flags/</i> и ее подпапках.
  </li>
  <br>
  <li>
    Загрузочные экраны в папке <i>>/Hearts of Iron IV/gfx/loadingscreens/</i>. 
    Обратите внимание, что, однако, фон главного меню, обычно хранящийся в этой папке, определяется как спрайт.
  </li>
  <br>
  <li>
    <a href="#">Портреты персонажей</a>. Они могут использовать спрайт в качестве определения, 
    но это единственное место в игре, где он не является обязательным требованием, принимая прямые ссылки на файл в качестве альтернативы.
  </li>
  <p>
    Существуют также потенциальные ошибки, которые могут возникнуть в связи со спрайтами:
  </p>
  <li>
    Спрайт полностью прозрачен: это признак того, что спрайт существует, но изображение в нем не может быть загружено. 
    Это происходит, если текстурный файл определен для несуществующего файла (путь к папке или имя файла 
    могут не совпадать с именем самого файла) или если само изображение повреждено. Обычно это сопровождается ошибкой <i>Texture Handler encountered missing texture file</i>.
  </li>
  <br>
  <li>
    Спрайт заменяется изображением по умолчанию: Это признак того, что что-то не так с 
    самим спрайтом, а не с изображением: игра ссылается на несуществующий спрайт. Обычно это опечатка в имени спрайта или несоблюдение формата имени 
    (например, пропуск _shine в конце спрайта блеска иконки национального фокуса). Убедитесь, что спрайт существует и имеет правильное имя.
  </li>
  <br>
  <li>
  Персонаж использует портрет, сгенерированный случайным образом: 
  Это признак одной из двух предыдущих проблем: у персонажа с недействительным спрайтом или отсутствующим файлом портрет будет сгенерирован случайным образом.
</li>
  </div>
  <h1 id="section12">
    Структура мода
  </h1>
  <div class="block">   
    <p> 
      Каждый игровой мод имеет определение в папке <i>/Hearts of Iron IV/mod/</i> пользовательского каталога в виде файла *.mod.
       Это указывает игре, какие настройки присвоить этому моду и где именно находится папка, в которой он хранится. 
       Поскольку формат *.mod также используется для видео, компьютер может подумать, что этот файл должен быть открыт 
       медиаплеером, но это не так: он должен быть открыт текстовым редактором.
      Каждый мод имеет два *.mod файла, файл <i>/Hearts of Iron IV/mod/*.mod</i> и файл <i> descriptor.mod</i> непосредственно в 
      корневой папке мода, указанный в <i>path = ""</i> первого. Дескриптор указывает, что должно быть в <i>/Hearts of Iron IV/mod/*.mod</i>, и 
      поэтому эти два *.mod файла должны быть идентичны, за исключением пути к папке, который должен быть только в <i>/Hearts of Iron IV/mod/*.mod</i> файле, 
      так как это зависит от машины. Это действительно контролируется программой запуска: все, что находится в бывшем файле <i>/Hearts of Iron IV/mod/*.mod</i> и 
      не входит в файл <i>descriptor.mod</i> мода, будет автоматически удалено при открытии программы запуска. Однако обратное не происходит автоматически: 
      программа запуска периодически не переносит аргументы дескриптора в файл <i>/Hearts of Iron IV/mod/*.mod</i>. Аргумент будет выполнен, только если он 
      находится в файле <i>/Hearts of Iron IV/mod/*.mod</i>, поскольку именно его использует игра, поэтому для безопасности лучше вручную редактировать и <i>descriptor.mod</i>, и 
      <i></i>/Hearts of Iron IV/mod/*.mod</i>, если необходимо изменить определение мода.
    </p>
    <p>
      Имя файла <i>*.mod</i> не должно содержать пробелов, иначе он не будет автоматически выбран программой запуска игры.
    </p>
  
    <h2 id="section13">
      Определение мода
    </h2>
    <p>
      Простой файл <i>*.mod</i> будет выглядеть примерно так:
    </p>
    <div class="card">
      <div class = "textincard">
<pre>name = "Minor Mod"
path = "mod/MinorMod"
picture = "thumbnail.png"
version = "v1"
supported_version = "1.12.*"
tags={
	"Gameplay"
	"Historical"
}
remote_file_id="<ID>"
        </pre>
      </div>
    </div>

    <br>
<li>
  name - это название мода в пусковой установке.
</li>
<li>
  path - это расположение папки мода. 
  Сокращенный путь, без <i>Documents/Paradox Interactive/Hearts of Iron IV/</i> будет работать, 
  заставляя игру автоматически генерировать новый. Путь не обязательно должен вести в папку документов, 
  <i>path = "C:/folder/modname"</i> также будет работать, если мод находится в этой папке. Обратите внимание, 
  что если путь содержит какие-либо специальные символы, включая кириллицу, 
  но не ограничиваясь ею, мод работать не будет. Кроме того, обратный слеш, или \, 
  не будет работать для разделения папок в пути, только / будет работать.
</li>
<li>
  picture - это картинка мода, расположенная в корневом каталоге. 
  Для корректной работы она должна иметь имя "thumbnail.png". Кроме того, 
  размер файлов миниатюр не должен превышать 1 МБ, иначе они не смогут быть загружены на ParadoxMods.
</li>
<li>
  version - это то, что программа запуска будет показывать как версию мода (не версию игры, для которой он предназначен). Принимается любая строка.
</li>
<li>
  supported_version используется для определения того, для какой версии игры предназначен мод, в противном случае в пусковой установке появляется маркер "устаревший". 
  Последняя цифра версии может быть заменена звездочкой, чтобы мод считался актуальным для любой версии в пределах указанного основного обновления.
</li>
<li>
  tags - это теги, которыми будет помечен мод при загрузке в Steam Workshop.
</li>
<li>
  remote_file_id добавляется программой запуска при загрузке мода в Steam Workshop. Он используется для назначения элемента мастерской для мода.
</li>
<p>В качестве дополнительных аргументов можно использовать и некоторые другие:</p>
<div class="card">
  <div class = "textincard">
<pre>
 user_dir = "MajorMod"
 replace_path = "history/states" 
 dependencies = { "Major Mod" "Major Mod 2" }
  
</pre>
  </div>
</div>
  <br>
  <li>
    user_dir изменяет папку, в которой хранятся сохранения мода. 
    Это может быть полезно для того, чтобы сохранения мода не перепутались и случайно не загрузились без включенного мода и наоборот.
  </li>
  <li>
    replace_path заставляет каждый файл, который уже был загружен и проиндексирован в указанной папке заранее, 
    выгружаться при начале применения изменений из этого мода. Например, <i>replace_path = "history/states"</i> выгрузит все состояния, 
    которые были загружены до этого: базовую игру, каталог пользователя и другие моды (в зависимости от порядка загрузки мода). 
    Это гарантирует, что никакие состояния базовой игры не будут загружены в мод. Обратите внимание, что <i>replace_path</i> не перезаписывает
     вложенные папки внутри указанной папки. Кроме того, 
    программа запуска часто не переносит эту опцию в файл modname.mod, поэтому ее следует добавить в <i>mod/modname/descriptor.mod</i> и <i>mod/modname.mod</i> вручную.
  </li>
  <p>Если файл загружается только после загрузки главного меню, <i>replace_path</i> не выгрузит его. 
    Например, <i>replace_path = "history/units"</i> не имеет эффекта, поскольку файлы в этой папке не 
    загружаются до загрузки главного меню, а загружаются непосредственно через эффект 
    load_oob = "filename" или аргумент <i>oob = "filename"</i> в истории стран. Между тем,
     замена истории/стран будет работать, так как игра загружает каждый файл до 
     окончания загрузки главного меню, но выполняет эффекты в них только позже. 
     Это также относится к папке <i>gfx/flags:</i> замена этой папки не имеет никакого эффекта, 
     поскольку флаги загружаются и индексируются не во время фона главного меню, а только 
     после выбора одиночной игры, интерпретируя историю для каждой страны. Это видно по тому, 
    когда появляются ошибки "файл не найден" для отсутствующих флагов: только после того, как загруженные файлы истории интерпретируются игрой.</p>
    <p>
      Это можно увидеть с помощью replace_path к <i>gfx/loadingscreens</i>. В результате этого загрузочные экраны 
      ванильная игры будут лишены возможности быть выбранными игрой. Однако фон главного меню - поскольку он определен в  <i>/Hearts of Iron IV/interface/frontendmainviewbg.gfx, </i>
      где он загружается только после завершения загрузки главного меню, при переходе в главное меню - останется таким же, как в базовой игре.
    </p>
    <p>
      dependencies заставляет текущий мод располагаться выше в порядке загрузки,
       чем указанные зависимости. Это гарантирует, что мод будет перезаписывать 
       содержимое указанных модов: если файлы этого мода и зависимостей пересекаются, 
       будут выбраны файлы этого мода. Это также гарантирует, что replace_path 
       зависимостей не выгрузит ни одного файла из этого мода и, наоборот, каждый replace_path 
       в этом моде выгрузит файлы из зависимостей. Несмотря на свое
       название, мод, помеченный как зависимость, не обязательно должен быть включен, чтобы этот мод загрузился.
        Это необходимо для корректной работы подмодов.
    </p>
  </div>
    <h1 id="section14">
      Игровые данные
    </h1>
    <div class="block">   
<li>
  <a href="#">Консольные команды</a>, полезные для отладки модов.
</li>
<li>
  <a href="#">Defines</a>, которые позволяют влиять на некоторые жестко закодированные поведения ванилы.
</li>

<li>
  <a href="#">Области действия</a>, <a href="#"> триггеры</a> и <a href="#">эффекты</a>, используемые для создания сценариев.
</li>
<li>
  <a href="#">Модификаторы</a>, используется для влияния на расчеты, производимые игрой.
</li>
<li>
  <a href="#">Моддинг событий</a>, используется для определения всплывающих окон с решениями.
</li>
<p>
  Названия для внутриигровых предметов 
  (например, название категорий исследований или правил типа can_create_faction)
   можно найти в папке локализации игры, внутри файлов локализации.
</p>
    </div>
  <h1 id="section15"> Инструменты &; утилиты </h1>
  <div class = "block">
  <li>
   <a href = "#"> Official Paradox Forum for mods</a>
  </li>
  <li>
    <a href = "#">Maya exporter </a> - Clausewitz Maya Exporter для создания собственных 3D моделей
  </li>
  <li>
    <a href = "#">Steam Workshop  </a> -  Место, где вы можете поделиться своими творениями с другими игроками
  </li>
</div>      
<h1 id="section16">
  Распространенные ошибки
</h1>
  <div class="block">
    <p><strong>Два мода с одинаковым именем</strong> (мод не загружается) - Обычно это происходит при подписке на 
      собственный мод в Steam Workshop. Если есть два мода с одинаковым именем, 
      игра не сможет загрузить тот, который был добавлен позже, в результате чего будет казаться, 
      что открыта базовая игра. Это исправляется изменением названия одного из модов.</p>
      <p>
        <strong>Неправильный путь </strong>(применяется replace_paths, но мод не загружается) - В этом случае нужным файлом для корректировки
         является <i>/Hearts of Iron IV/mod/modname.mod</i>, открытый непосредственно в текстовом редакторе. Существует две основные вариации этой проблемы:
      </p>
      <p>
        <strong>Неправильный путь </strong>- Обычно это происходит, если игра отображает размер файла мода, но не загружает его. Мод не указывает прямой путь к файлу. 
        Иногда это может быть причиной дальнейшего разделения, например, если мод находится в mod/my_mod/cool_mod, но в машинном файле .mod указан путь = "mod/my_mod". 
        В этом случае файлы все еще существуют и загружаются. Однако игра, например, ожидает, что деревья фокусов будут находиться в папке 
        <i>/Hearts of Iron IV/common/national_focus/</i>. <i>mod/my_mod/cool_mod/common/national_focus/</i> будет восприниматься как 
        <i>/Hearts of Iron IV/cool_mod/common/national_focus/</i>, так как <i>path = "mod/my_mod"</i> не сбивает папку <i>/cool_mod/</i>. 
        Это исправляется простым изменением пути к нужной папке.
      </p>
      <p>
        <strong>Невозможный путь </strong>- предполагаемая папка верна, но она указана таким образом, что игра не может ее распознать.

    Один из способов сделать это - использовать обратные косые черты для разделения папок, например,<i> path = "mod\my_mod"</i>. 
    Это неверно, так как один обратный слэш воспринимается как символ выхода. Использование прямой косой черты, 
    как в <i>path = "mod/my_mod"</i>, является правильным.
    Другим способом является использование специальных символов в имени, например,
     <i>path = "C:/Users/Пример кириллицы/Documents/Paradox Interactive/Hearts of Iron IV/mod/my_mod"</i>. 
     В данном случае под специальным символом понимается символ, который занимает более 1 байта для записи в UTF-8, 
     не присутствуя в печатаемых символах ASCII. Обычно это имена папок на неанглоязычных языках, такие как диакритические знаки или нелатинские алфавиты.
      В этом случае путь может быть перенаправлен в папку, не содержащую специальных символов в названии, например <i> path = "D:/Hearts of Iron IV modding/my_mod".
       Если путь к самому пользовательскому каталогу содержит специальные символы, лучше перенаправить весь каталог в другую папку. Для этого отредактируйте файл
        /Hearts of Iron IV/launcher-settings.json</i> базовой игры и измените папку, указанную в gameDataPath. После этого переместите содержимое пользовательской 
        директории в эту папку, чтобы не потерять сохранения игр и другую информацию. Путь мода также должен быть правильно настроен. Если каталог пользователя 
        расположен по невозможному пути, игра также не сможет открыть журнал ошибок при включенной отладке с ошибкой "Система не может найти указанный путь".
      </p>
      <p>
       <strong> Неправильное имя зависимости </strong>(мод не загружается, когда включен вместе с основным модом) - Если мод предназначен быть подмодом к более крупному моду 
        или нескольким модам, то в большинстве случаев обязательно включать зависимости = { "Основной мод 1" "Основной мод 2" }, что поместит его выше в порядке загрузки. 
        В этом случае название мода должно быть точно таким же, как в .mod-файле мода, который также отображается в пусковой установке. Это может включать специальные символы
         (например, имя = "Main mod - Subtitle" в основном моде потребует <i>dependencies = { "Main mod - Subtitle" } </i>в суб-моде с тире, а не дефисом). По этой причине 
         предпочтительнее скопировать название из .mod файла основного мода, чем вручную перепечатывать его из программы запуска: некоторые специальные символы может 
         быть трудно заметить или отличить от других символов.
      </p>
      <p>
        <strong>Не копируются записи информации о модах</strong> (Записи, такие как replace_path, не применяются) - 
        Игра сохраняет файл <i>modname/descriptor.mod</i>как информацию о моде в целом и <i>/Hearts of Iron IV/mod/modname.mod</i> как информацию о моде, 
        который считывается для машины. Хотя пусковая установка обычно пытается поддерживать специфический для машины файл в актуальном состоянии 
        с общим файлом информации о моде, иногда ей это не удается, например, в случае с replace_paths, когда ей удается удалить ненужные записи, но не удается скопировать нужные. 
        В этом случае оба файла должны быть отредактированы вручную для применения replace_path. Это может потребоваться и для других записей в файле.
      </p>
      <p>
        <strong>Файлы с похожими именами </strong>(Файл загружается дважды) - 
        В данном случае под "похожими" понимается пара файлов 
        в одной папке, имена которых состоят из разных символов, 
        но при проверке без учета регистра считаются одинаковыми, 
        например <i>/Hearts of Iron IV/events/Generic.txt </i>и <i>/Hearts of Iron IV/events/GENERIC.txt</i>. 
        Если файлы модов содержат файл, имя которого совпадает с именем файла базовой игры, файл мода будет загружен дважды. 
        Если изменить имя файла так, чтобы оно полностью совпадало с именем файла базовой игры или 
        полностью отличалось от него, эта проблема будет устранена. Это происходит, даже если папка, в которой находится файл ванильной игры, выгружена с помощью replace_path.
      </p>
  </div>
  
  <h1 id="section17">
    Полезные знания
  </h1>
  <div class = "block">
    <p>
    Крупные англоязычные сообщества моддинга включают <a href="https://discord.com/invite/8p7PSbR" >HOI4 Modding Coop</a> и 
    <a href="https://discord.com/invite/4DczT9pVtH" >HOI4 Modding Den</a>, к которым можно присоединиться через <a href="https://discord.com/">Discord</a>. 
    Полезно присоединиться к одному или нескольким из них, 
    так как они содержат ссылки на ресурсы по моддингу, и в них можно задавать вопросы по моддингу.
    </p>
    <p>
      <i>settings.txt</i>, расположенный в пользовательской директории, также содержащей папку мода, может быть изменен, чтобы игра использовала для
       открытия файлов Microsoft Notepad, если путь к редактору правильный. Ниже приведены примеры с 2 часто используемыми текстовыми редакторами:
    </p>
    <p>
      Notepad++: <br>
      editor="C:\\\Program Files\\\\Notepad++\\notepad++.exe" <Br>
      editor_postfix=" -n$"      
    </p>
    <p>
      Sublime Text: <br>
      editor="C:\\Program Files\\Sublime Text 3\\sublime_text.exe" <Br>
      editor_postfix=":$:1"
    </p>
  </div>
    <h1 id="section18">
      Примечания
    </h1>
    <div class="block">
      <p>
        ^ a: Исключения, которые могут быть разумно изменены в рамках мода, следующие:
      </p>
      <li>
        <i>/Hearts of Iron IV/gfx/flags/ </i>и его подпапки, где название должно следовать строгому форматированию, чтобы автоматически загружаться для страны
      </li>
      <br>
      <li>
        <i>/Hearts of Iron IV/history/countries/ </i>где первые 3 буквы относят его к той или иной стране.
      </li>
      <br>
      <li>
        .txt файлы непосредственно внутри <i>/Hearts of Iron IV/common/</i> (наиболее важные achievements.txt, combat_tactics.txt и graphicalculturetype.txt).
      </li>
      <br>
      <li>
        Файлы <i>/Hearts of Iron IV/common/countries/colors.txt и /Hearts of Iron IV/common/countries/cosmetic.txt</i> должны оставаться с тем же именем. 
        Остальные напрямую связаны с файлами <i>/Hearts of Iron IV/common/country_tags/*.txt</i>.
      </li>
      <br>
      <li>
        Различные элементы внутри gfx, такие как <i>/Hearts of Iron IV/gfx/maparrows/maparrow.txt</i> или <i>/Hearts of Iron IV/gfx/HOI4_icon.bmp.</i> 
        Это не включает <i>/Hearts of Iron IV/gfx/loadingscreens</i> 
        (каждый файл в нем загружается независимо от имени) или большинство файлов шрифтов/изображений 
        (так как они загружаются по ссылке в другом файле).
      </li>
      <br> 
      <li>
        Файлы в папках <i>/Hearts of Iron IV/map/</i> и <i>/Hearts of Iron IV/map/terrain/</i>,
        за исключением <i>/Hearts of Iron IV/map/strategicregions</i>  и определенных в <i>/Hearts of Iron IV/default.map</i> .
      </li>
      <br>   
      <li>
       <i>/Hearts of Iron IV/tutorial/tutorial.txt</i>
      </li>             
    </div>


    <footer>
      <div class="footer-content">
        <p>Сайт создан conteynerrrr#0944  при поддержке<span class="footer-highlight"> East Showdown Team</span></p>
      </div>
    </footer>

  <script src="script.js"> </script>
</body>

</html>